const j = require('../index')
const assert = require('assert')
const R =require('ramda')

const fun = (msg, callback) => {
	if (msg === 'error') return callback(new Error(msg))
	return callback(null, msg)
}

describe(
	'checkErr function',
	() => {
		it(
			'checkErr must call reject function when the Error occur',
			() => assert.ok(
				fun(
					'error',
					j.checkErr(
						R.always(false),
						R.always(true)
					)
				)
			)
		)
		it(
			'checkErr must call resolve function when the err is null',
			() => assert.ok(
				fun(
					'work',
					j.checkErr(
						R.always(true),
						R.always(false)
					)
				)
			)
		)
	}
)