const j = require('../index')
const assert = require('assert')
const fs = require('fs')
const R = require('ramda')
const readDirP = j.toPromise(fs.readdir)

describe(
	'dist/index.js',
	it(
		'the index.js must have all function of "./src" ',
		() => R.composeP(
			(keys) => assert.equal(
				true,
				j.setEq(
					new Set(R.keys(j)),
					new Set(R.keys(keys))
				)
			),
			R.map(
				R.nth(1)
			),
			R.map(
				R.match(/(.*)\.js/)
			),
			R.flatten,
			readDirP
		)('./src')
	)
)

