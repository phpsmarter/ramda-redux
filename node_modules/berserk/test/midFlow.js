const midFlow = require('../index').midFlow
const assert = require('assert')

describe(
	'midFlow function',
	() => it(
		'the ctx must be a object and merge after every middleware called',
		() => assert.deepEqual(
			midFlow([
				({a}) => ({b: a + 1}),
				() => {
				},
				({b, a}) => ({c: a + b}),
				({c}) => c,
			])({a: 10}),
			21
		)
	)
)